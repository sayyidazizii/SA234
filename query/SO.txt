partCost = "0.00";

var ttOrderDtlRecs = ( from ttOrderDtlRow in ttOrderDtl
where ttOrderDtlRow.Company == Session.CompanyID
&& (ttOrderDtlRow.RowMod == "A" || ttOrderDtlRow.RowMod == "U")
select ttOrderDtlRow).FirstOrDefault();
{
  if ttOrderDtlRecs  != null)
  { 
    var ttPartCostRecs = ( from ttPartCostRow in Db.PartCost
    where ttPartCostRow.PartNum == ttOrderDtlRecs.PartNum
    select ttPartCostRow).ToList();
    
    decimal partCost = 0;  
    QtyOnHand = Convert.ToDecimal(partCost).ToString("N2");
  }
}













UnitPrice = 0;
var ttOrderDtlRecs = ( from ttOrderDtlRow in ttOrderDtl
where ttOrderDtlRow.Company == Session.CompanyID
&& (ttOrderDtlRow.RowMod == "A" || ttOrderDtlRow.RowMod == "U")
select ttOrderDtlRow).FirstOrDefault();
{
  if (ttOrderDtlRecs  != null)
  { 
    var ttPartCostRecs = ( from ttPartCostRow in Db.PartCost
    where ttPartCostRow.PartNum == ttOrderDtlRecs.PartNum
    select ttPartCostRow).ToList();
  }

}


















QtyOnHand = "0.00";
OnHandAll = "0.00";

var ttReqDtlRecs = ( from ttReqDtlRow in ttReqDetail
where ttReqDtlRow.Company == Session.CompanyID
&& (ttReqDtlRow.RowMod == "A" || ttReqDtlRow.RowMod == "U")
select ttReqDtlRow).FirstOrDefault();
{
  if (ttReqDtlRecs != null)
  {
    var ttPartOnHandRecs = ( from ttPartOnHandRow in Db.PartBin
    where ttPartOnHandRow.PartNum == ttReqDtlRecs.PartNum
    && (ttPartOnHandRow.WarehouseCode == "LOGISTIK" 
     || ttPartOnHandRow.WarehouseCode == "GBB" 
     || ttPartOnHandRow.WarehouseCode == "PERLENGK" 
     || ttPartOnHandRow.WarehouseCode == "KARDUS")
    select ttPartOnHandRow).ToList();
    
    var ttPartOnHandALLRecs = ( from ttPartOnHandRow in Db.PartBin
    where ttPartOnHandRow.PartNum == ttReqDtlRecs.PartNum
    select ttPartOnHandRow).ToList();
    
    decimal QtyGudang = 0;
    decimal QtyAll = 0;
    if (ttPartOnHandRecs.Any())
    {
      QtyGudang = ttPartOnHandRecs.Sum(x => x.OnhandQty);
    }
    
    if (ttPartOnHandALLRecs.Any())
    {
      QtyAll = ttPartOnHandALLRecs.Sum(x => x.OnhandQty);
    }
    
    
    QtyOnHand = Convert.ToDecimal(QtyGudang).ToString("N2");
    OnHandAll = Convert.ToDecimal(QtyAll).ToString("N2");
  }
}















var ttOrderDtlRecs = ( from ttOrderDtlRow in ttOrderDtl
where ttOrderDtlRow.Company == Session.CompanyID
&& (ttOrderDtlRow.RowMod == "A" || ttOrderDtlRow.RowMod == "U")
select ttOrderDtlRow).FirstOrDefault();
{
  if (ttOrderDtlRecs  != null)
  { 
    var ttPartCostRecs = ( from ttPartCostRow in Db.PartCost
    where ttPartCostRow.PartNum == ttOrderDtlRecs.PartNum
    select ttPartCostRow).ToList();
  }

}






